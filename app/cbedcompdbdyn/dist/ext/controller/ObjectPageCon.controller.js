sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/m/MessageToast","sap/ui/export/Spreadsheet","sap/ui/model/json/JSONModel","sap/ui/export/library"],function(e,t,a){"use strict";var s=a.EdmType;let l=true;return e.extend("cbedcompdbdyn.ext.controller.ObjectPageCon",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel();debugger;let t=this.base.getView().mAggregations.content[0].mAggregations.headerTitle;let a=sap.ui.getCore().byId("cbedcompdbdyn::Project_DetailsObjectPage--fe::HeaderFacetCustomContainer::HeaderFragment--headervbox1");t.destroyActions();t.addAction(new sap.m.Button({text:"ItemList-ExpandAll",visible:false,press:function(e){debugger;if(e.getSource().getText()=="ItemList-ExpandAll"){e.getSource().setText("ItemList-CollapseAll");a.getItems()[0].firePress()}else{e.getSource().setText("ItemList-ExpandAll");a.getItems()[0].firePress()}}}));t.addAction(new sap.m.Button({text:"VendorList-ExpandAll",visible:false,press:function(e){debugger;if(e.getSource().getText()=="VendorList-ExpandAll"){e.getSource().setText("VendorList-CollapseAll");a.getItems()[1].firePress();debugger}else{e.getSource().setText("VendorList-ExpandAll");a.getItems()[1].firePress()}}}))},routing:{onAfterBinding:async function(e){try{function ne(){var e=Math.floor(Math.random()*1e6);var t=(new Date).getTime();var a=t+"-"+e;return a}var a=e.sPath;var s=a?.match(/'([^']+)'/);sap.ui.core.BusyIndicator.show();var l="";let oe="cbeObjectPageData";let re=this.base.getView().getModel().bindContext(`/${oe}(...)`);re.setParameter("projectId",s[1]);await re.execute();let ie=re.getBoundContext().getValue();ie=JSON.parse(ie.value);console.log(ie);var n=ie[0][0];var o=ie[1];var r=ie[2];var i=ie[3];var d=ie[4];var m=ie[5];var p=ie[6];debugger;if(r.length>1){r?.sort((e,t)=>e.Vendor_Name.localeCompare(t.Vendor_Name))}var g=this.getView().getContent()[0].getSections()[0].mAggregations._grid.getContent()[0].mAggregations._grid.getContent()[0].getContent();let de=g.getItems()[0].getItems()[2].getItems()[0].getColumns();for(let Te=0;Te<de.length;Te++){de[Te].setStyleClass("custcolorclass")}let me=s[0];let pe=me?.replace(/'/g,"");let ge=sap.ui.getCore().byId("cbedcompdbdyn::Project_DetailsObjectPage--fe::CustomSubSection::Fragment--Sopvalue");let ce=i.find(e=>e.ProjectId==pe);ge.setText(`${ce.Subject_of_ProposalOROrder}`);ge.setTextAlign("End");var c=g.getItems()[0].getItems()[2].getItems()[0];var x=g.getItems()[0].getItems()[1].getItems()[0];if(!x.getItems()[1]){x.addItem(new sap.ui.core.Icon(`${"cylindricaldtaicon"+ne()}`,{src:"sap-icon://expand",color:"darkblue",hoverColor:"red",activeColor:"darkgreen",size:"12px",width:"20px",press:function(e){debugger;var t=g.getItems()[0];let a=sap.ui.getCore().byId("cbedcompdbdyn::Project_DetailsObjectPage--fe::CustomSubSection::Fragment--total_basic_pricing");let s;let l=sap.ui.getCore().byId("cbedcompdbdyn::Project_DetailsObjectPage--fe::CustomSubSection::Fragment--newItemID1");let n;if(t.getWidth()=="30%"){c.setFixedLayout(false);c.getColumns()[0].getHeader().setWrapping(true);t.setWidth("60vw");g.getItems()[1].getContent()[0].setWidth("40vw");e.getSource().setSrc("sap-icon://collapse")}else{c.setFixedLayout(true);c.getColumns()[0].getHeader().setWrapping(false);t.setWidth("30%");g.getItems()[1].getContent()[0].setWidth("70vw");e.getSource().setSrc("sap-icon://expand")}let o=0;let r=c.getColumns();for(let e=0;e<r.length;e++){if(r[e].getVisible()==true){o++}}if(o<5){c.setFixedLayout(true)}}}))}c.destroyItems();const xe=new Set;let ue=[];o.forEach(e=>{if(!xe.has(e.Item_Code)&&e.Item_Short_Description&&e.Item_Code){xe.add(e.Item_Code);ue.push(e)}});let Ie=1;for(let Pe=0;Pe<ue.length;Pe++){c.addItem(new sap.m.ColumnListItem(`${"collistitem"+(Pe+1)}`));let Ve=c.getItems()[Pe];let Ne=new sap.m.Text(`${"itemdesc"+(Pe+1)}`,{text:`${ue[Pe]?.Item_Short_Description??" "}`,tooltip:`${ue[Pe]?.Item_Short_Description??" "}`,wrapping:false});Ve.addCell(Ne);let Le=i.filter(e=>e.PAN_Number==ue[Pe]?.PAN_Number);let Ae=new sap.m.Text(`${"plantcode"+(Pe+1)}`,{text:`${Le[0]?.Plant_Code??" "}`,tooltip:`${Le[0]?.Plant_Code??" "}`,wrapping:false});Ve.addCell(Ae);let Be=new sap.m.Text(`${"tag_no"+(Pe+1)}`,{text:`${ue[Pe]?.tag_no??" "}`,tooltip:`${ue[Pe]?.tag_no??" "}`,wrapping:false});Ve.addCell(Be);let Oe=new sap.m.Text(`${"types_of_vessel"+(Pe+1)}`,{text:`${ue[Pe]?.types_of_vessel??" "}`,tooltip:`${ue[Pe]?.types_of_vessel??" "}`,wrapping:false});Ve.addCell(Oe);let De=new sap.m.Text(`${"capacity_each_in_cu_mtr"+(Pe+1)}`,{text:`${ue[Pe]?.capactity_each??" "}`,tooltip:`${ue[Pe]?.capactity_each??" "}`,wrapping:false});Ve.addCell(De);let Fe=new sap.m.Text(`${"dia_in_mm"+(Pe+1)}`,{text:`${ue[Pe]?.dia??" "}`,tooltip:`${ue[Pe]?.dia??" "}`,wrapping:false});Ve.addCell(Fe);let je=new sap.m.Text(`${"tl_to_tl_len"+(Pe+1)}`,{text:`${ue[Pe]?.tl_tl_len??" "}`,tooltip:`${ue[Pe]?.tl_tl_len??" "}`,wrapping:false});Ve.addCell(je);let Ee=new sap.m.Text(`${"moc"+(Pe+1)}`,{text:`${ue[Pe]?.moc??" "}`,tooltip:`${ue[Pe]?.moc??" "}`,wrapping:false});Ve.addCell(Ee);let He=new sap.m.Text(`${"design_pressure_bar"+(Pe+1)}`,{text:`${ue[Pe]?.design_pb??" "}`,tooltip:`${ue[Pe]?.design_pb??" "}`,wrapping:false});Ve.addCell(He);let ke=new sap.m.Text(`${"weights_in_kg"+(Pe+1)}`,{text:`${ue[Pe]?.weights??" "}`,tooltip:`${ue[Pe]?.weights??" "}`,wrapping:false});Ve.addCell(ke);let Me=new sap.m.Text(`${"uom"+(Pe+1)}`,{text:`${ue[Pe]?.UOM??" "}`,tooltip:`${ue[Pe]?.UOM??" "}`,wrapping:false});Ve.addCell(Me);let Re=0;for(let Qe=0;Qe<o.length;Qe++){let We=o[Qe].Quantity;let qe=We?.replace(/,/g,"");let Ge=parseFloat(qe,10);if(o[Qe].Item_Code==ue[Pe].Item_Code&&We){Re=Re+Ge}}let Ue=new sap.m.Text(`${"qty_no"+(Pe+1)}`,{text:`${Re??" "}`,tooltip:`${Re??" "}`,wrapping:false});Ve.addCell(Ue)}let we={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0};for(let Ye=0;Ye<c.getColumns().length;Ye++){c.getColumns()[Ye].setVisible(true)}for(let Je=0;Je<c.getItems().length;Je++){let ze=c.getItems()[Je].getCells();for(let Xe=0;Xe<ze.length;Xe++){if(ze[Xe].getText().trim()==""){we[Xe]+=1}}}for(let Ke in we){if(we[Ke]==c.getItems().length){c.getColumns()[Ke].setVisible(false)}}var u=g.getItems()[1].getContent()[0];u.destroyItems();let Ce=new Set;let _e=0;let fe=g.getItems()[0].getItems()[0].getItems()[0].getItems()[1];fe.destroyItems();let $e=0;for(let Ze=0;Ze<r.length;Ze++){const et=r[Ze].vendor_code;if(Ce.has(et)){continue}Ce.add(et);u.addItem(new sap.m.VBox(`${"sectionvbox"+(Ze+1)}`));let tt=u.getItems()[_e];_e++;tt.addStyleClass("BorderClass");tt.addItem(new sap.m.VBox(`${"vboxsuppnameloc"+(Ze+1)}`));tt.addItem(new sap.m.HBox(`${"hbmiddlesection"+(Ze+1)}`));tt.addItem(new sap.m.VBox(`${"vbox_last_section"+(Ze+1)}`));tt.getItems()[0].addStyleClass("stickyright");var I=tt.getItems()[2];var w=new sap.m.ComboBox(`${"combobox"+(Ze+1)}`,{change:function(e){for(let t=0;t<e.getSource().getParent().getItems()[1].getItems().length;t++){if(e.getSource().getItems()[t].getText()==e.getSource().getValue()){e.getSource().getParent().getItems()[1].getItems()[t].setVisible(true)}else{e.getSource().getParent().getItems()[1].getItems()[t].setVisible(false)}}}});I.addItem(w);var C=new sap.m.HBox(`${"hboxcombo"+(Ze+1)}`);I.addItem(C);var _=I.getItems()[1];let at=tt.getItems()[0];at.addStyleClass("alignmentVendorClass");let st=r[Ze]?.Vendor_Name??" ";let lt;if(st.length>20){lt=st.substring(0,15)+"...";console.log(lt)}else{lt=r[Ze]?.Vendor_Name}at.addItem(new sap.m.Title(`${"SupplierName"+(Ze+1)}`,{text:`${lt??" "}`,wrapping:true,tooltip:`${r[Ze].Vendor_Name?r[Ze].Vendor_Name:" "}`}));at.getItems()[0].addStyleClass("vendorTitle");Location;at.addItem(new sap.m.Title(`${"SupplierLocation"+(Ze+1)}`,{text:`${r[Ze].Vendor_Location?r[Ze].Supplier_Origin_State:" "}`}));console.log(r);at.addStyleClass("v11spaceBetweenclass");var f=tt.getItems()[1];f.addStyleClass("alignmentVendorClass");let nt=0;let ot=0;var $;do{if(r[nt].ProjectId==pe&&r[nt].Proposed_Vendor_Code==r[Ze].Proposed_Vendor_Code){let it=r[nt].PAN_Number;function dt(e){for(let t=0;t<p.length;t++){if(p[t].number===e){return true}}return false}if(dt(it)){let mt=p.filter(e=>e.number===r[nt].PAN_Number);for(let pt=0;pt<mt.length;pt++){f.addItem(new sap.m.VBox(`${"vbmiddlesection"+ne()}`,{}));let gt=r[nt]?.Awarded_Vendor;if(gt=="YES"){debugger;console.log(r[nt]?.Proposed_Vendor_Code);$=`${r[nt]?.Order_amount_OR_Split_order_amount}`;$e++}var b=f.getItems().length;var v=f.getItems()[b-1];v.addStyleClass("customVBox");v.addItem(new sap.m.VBox(`${"vbmiddlesection_innervb"+ne()}`));var h=v.getItems()[0];h.addItem(new sap.m.Text(`${"org_qtn_ref"+ne()}`,{text:`${mt[pt]?.number??"NA"}`}));h.addItem(new sap.m.Text(`${"org_date"+ne()}`,{text:`${mt[pt]?.date??"NA"}`}));h.addItem(new sap.m.Text(`${"org_validity"+ne()}`,{text:`${r[nt]?.validity??"NA"}`}));h.addItem(new sap.m.Text(`${"org_cylindrical_space"+ne()}`,{text:""}));h.addStyleClass("vbmiddlesectionclass");var S=new sap.m.VBox(`${"innervbox"+ne()}`,{alignItems:"Center"});v.addItem(S);let ct=i.find(e=>e.PAN_Number===r[nt].PAN_Number);S.addItem(new sap.m.Label(`${"original_offer"+ne()}`,{text:`${mt[pt]?.eventNo??" "}`,design:"Bold"}));var y=new sap.m.Table({id:`${"offer"+ne()}`,class:"tableBorder",growing:true,growingThreshold:20,width:"350px",fixedLayout:true});y.addStyleClass("tableBorder");S.addItem(y);var T=new sap.m.Column({id:`${"unit_rate"+ne()}`,header:new sap.m.Label({text:"Unit Price",design:"Bold",wrapping:false}),width:"100px"});var P=new sap.m.Column({id:`${"unit_rate_per"+ne()}`,header:new sap.m.Label({text:"Quantity",design:"Bold",wrapping:true}),width:"70px"});var V=new sap.m.Column({id:`${"total_amt_offer"+ne()}`,header:new sap.m.HBox,width:"140px"});y.addColumn(T);y.addColumn(P);y.addColumn(V);var N=y.getColumns()[2].getHeader();N.addItem(new sap.m.Label({text:"Total Amount",design:"Bold"}));var L=[];var A=0;var B="";let xt=0;let ut=new Set;const It=o.filter(e=>e.PAN_Number===r[nt].PAN_Number&&e.Proposed_Vendor_Code===r[nt].Proposed_Vendor_Code);let wt=0;let Ct="";function _t(e,t){let a="";switch(t){case"INR":a+=parseFloat(e).toLocaleString("en-IN",{maximumFractionDigits:2});break;default:a+=parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:2});break}return a}const ft=d.filter(e=>e.PAN_Number===r[nt].PAN_Number&&e.Proposed_Vendor_Code===r[nt].Proposed_Vendor_Code);B=ft[0]?.Order_CurrencyORBid_currency??"NA";var O=false;for(let kt=0;kt<ue.length;kt++){const Mt=ue[kt];let Rt=o.filter(e=>e.ProjectId==pe&&e.Proposed_Vendor_Code==r[nt].Proposed_Vendor_Code&&e.Item_Code==ue[kt].Item_Code&&e.PAN_Number==it);let Ut=It.filter(e=>e.Item_Code===Mt.Item_Code);if(Ut&&Rt.length){if(Rt.length==1){var D=Rt[0].Unit_Price?.replace(/,/g,"")??0;var F=Rt[0].Quantity?.replace(/,/g,"")??0;let Qt=Rt[0].extendedPrice?.replace(/,/g,"")??0;wt=wt+parseFloat(Qt??0);Ct=Ct+(Rt[0]?.Indian_Tax_PER??" ")+"\n";D=D=="NaN"?" ":D;const Wt=Number(D??0)*Number(F??0);const qt=`${Wt} ${Rt[0].Unit_Price??" "}`;A+=Wt;const Gt=new sap.m.ColumnListItem({id:`${"item1data"+ne()}`,cells:[new sap.m.Text({text:`${_t(D,B)??" "} ${B}`}),new sap.m.Text({text:`${Rt[0].Quantity??" "}`}),new sap.m.Text({text:`${_t(Wt,B)+" "+B}`})],visible:true});if(r[nt].Awarded_Vendor=="YES"){Gt.addStyleClass("ItemPresentStyle")}y.addItem(Gt)}else{for(let Yt=0;Yt<Rt.length;Yt++){var D=Rt[Yt].Unit_Price?.replace(/,/g,"")??0;var F=Rt[Yt].Quantity?.replace(/,/g,"")??0;let Jt=Rt[Yt].extendedPrice?.replace(/,/g,"")??0;wt=wt+parseFloat(Jt??0);Ct=Ct+(Rt[0]?.Indian_Tax_PER??" ")+"\n";const zt=Number(D??0)*Number(F??0);const Xt=`${zt} ${Rt[0].Unit_Price??" "}`;A+=zt;if(Yt==0){let Kt=[];let Zt=new sap.m.Label({text:`Unit Rate`,design:"Bold"});Zt.addStyleClass("labelColorClass");let ea=new sap.m.Label({text:`Quantity`,design:"Bold"});ea.addStyleClass("labelColorClass");let ta=new sap.m.Label({text:`Total Amount`,design:"Bold"});ta.addStyleClass("labelColorClass");let aa=[];aa.push(Zt);aa.push(ea);aa.push(ta);let sa=new sap.m.HBox({justifyContent:"SpaceBetween",alignContent:"SpaceBetween",items:aa});sa.addStyleClass("hboxPopoverClass");Kt.push(sa);var j=[];for(let na=1;na<Rt.length;na++){var D=Rt[na].Unit_Price?.replace(/,/g,"")??0;var F=Rt[na].Quantity?.replace(/,/g,"")??0;let oa=Rt[na].extendedPrice?.replace(/,/g,"")??0;wt=wt+parseFloat(oa??0);Ct=Ct+(Rt[na]?.Indian_Tax_PER??" ")+"\n";const ra=Number(D??0)*Number(F??0);const ia=`${ra} ${Rt[na].Unit_Price??" "}`;A+=ra;let da=new sap.m.HBox({justifyContent:"SpaceBetween",alignContent:"SpaceBetween",items:[new sap.m.Text({text:`${_t(D,B)??" "} ${B}`}),new sap.m.Text({text:`${Rt[na].Quantity??" "}`}),new sap.m.Text({text:`${_t(ra,B)+" "+B}`})]});j.push({vendorcode:lt,unit_rate:`${_t(D,B)??" "} ${B}`,quantity:`${Rt[na].Quantity??" "}`,total:`${_t(ra,B)+" "+B}`});da.addStyleClass("hboxPopoverClass");Kt.push(da)}if(j.length){var E=this.base.getExtensionAPI().getModel();var H=E.bindContext("/storeVendorDetails(...)");var k=JSON.stringify(j);H.setParameter("result",k);await H.execute()}const la=new sap.m.ColumnListItem({id:`${"item1data"+ne()}`,cells:[new sap.m.Text({text:`${_t(D,B)??" "} ${B}`}),new sap.m.Text({text:`${Rt[Yt].Quantity??" "}`}),new sap.m.HBox({items:[new sap.m.Text({text:`${_t(zt,B)+" "+B} ⠀`}),new sap.ui.core.Icon({src:"sap-icon://overflow",activeColor:"black",color:"black",press:function(e){let t=new sap.m.Popover({showHeader:false,placement:sap.m.PlacementType.Bottom,content:Kt});if(e.getSource().getParent().getParent().getTable().getColumns()[2].getStyleClass()=="columnStyleClass"){t.addStyleClass("PopOverClassBox")}t.openBy(e.getSource())}})]})],visible:true});if(r[nt].Awarded_Vendor=="YES"){la.addStyleClass("ItemPresentStyle")}la.addStyleClass("ItemPresentStyle");y.addItem(la);break}}}}else{const ma=new sap.m.ColumnListItem({id:`${"item1data"+ne()}`,cells:[new sap.m.Text({text:""}),new sap.m.Text({text:""}),new sap.m.Text({text:""})]});y.addItem(ma)}}const $t=m.filter(e=>e.PAN_Number===r[nt].PAN_Number&&e.Proposed_Vendor_Code===r[nt].Proposed_Vendor_Code);let bt={};const vt=["Spares for 2 Years operation","Packing, Marking, Forwarding & Freight","Inspection / Testing Charges","Documentation Charges","RNOD","Custom Duty & Cess","SGST","IGST","UGST","Shipment charges from EXW to ISRO Mahendragiri","Per Diem rate for Supervision for Erection and commissioning","PriceBasis","Point of Delivery","Delivery Period","Payment Terms","Liquidated Damages","Warranty / Defect Liability Period","CPBG","Contact Person","Contact No.","Order can be given to","Techncially Approved","Approved Vendor","Freight","Inspection Value","Document Value"];for(let pa=0;pa<$t.length;pa++){const ga=$t[pa];if(vt.includes(ga.name)){bt[ga.name]=ga.value}}var M=new sap.m.ColumnListItem({id:`${"blankspace"+ne()}`,cells:[new sap.m.Text({text:""}),new sap.m.Text({text:""}),new sap.m.Text({text:""})]});y.addItem(M);var R=new sap.m.ColumnListItem({id:`${"spare"+ne()}`,cells:[new sap.m.Text({text:""}),new sap.m.Text({text:""}),new sap.m.Text({text:`${_t(bt[vt[0]]??0)+" "+B??" "}`})]});let ht=A+(parseFloat(bt[vt[0]])||0);y.addItem(R);var U=new sap.m.ColumnListItem({id:`${"grandtotal"+ne()}`,cells:[new sap.m.Text({text:""}),new sap.m.Text({text:""}),new sap.m.Label({text:`${_t(ht)+" "+B}`,design:"Bold"})]});let St=_t(bt[vt[23]])=="NaN"?"0":_t(bt[vt[23]]);y.addItem(U);var Q=new sap.m.ColumnListItem({id:`${"freight"+ne()}`,visible:false,cells:[new sap.m.Text({text:`${bt[vt[1]]??" "}`}),new sap.m.Text({text:""}),new sap.m.Text({text:`${St+" "+B}`})]});y.addItem(Q);var W=new sap.m.ColumnListItem({id:`${"inspection"+ne()}`,visible:false,cells:[new sap.m.Text({text:`${bt[vt[2]]??" "}`}),new sap.m.Text({text:""}),new sap.m.Text({text:`${bt[vt[24]]??" "}`})]});y.addItem(W);var q=new sap.m.ColumnListItem({id:`${"documentation"+ne()}`,visible:false,cells:[new sap.m.Text({text:`${bt[vt[3]]??" "}`}),new sap.m.Text({text:""}),new sap.m.Text({text:`${bt[vt[25]]??" "}`})]});let yt=ht+(parseInt(bt[vt[23]])||0)+(parseInt(bt[vt[24]])||0)+(parseInt(bt[vt[25]])||0);y.addItem(q);var G=new sap.m.ColumnListItem({id:`${"rnod"+ne()}`,visible:false,cells:[new sap.m.Label({text:`${bt[vt[4]]??" "}`,design:"Bold"}),new sap.m.Text({text:""}),new sap.m.Text({text:""})]});y.addItem(G);var Y=new sap.m.ColumnListItem({id:`${"customduty"+ne()}`,visible:false,cells:[new sap.m.Text({text:`${bt[vt[5]]??" "}`}),new sap.m.Text({text:""}),new sap.m.Text({text:""})]});y.addItem(Y);var J=new sap.m.CustomListItem({id:`${"tax_field"+ne()}`,visible:false,content:[new sap.m.Text({text:Ct,width:"294px",height:"40px"})]});y.addItem(J);let Tt=(parseFloat(bt[vt[6]])||0)*yt/100;let Pt=(parseFloat(bt[vt[7]])||0)*yt/100;let Vt=(parseFloat(bt[vt[8]])||0)*yt/100;var z=new sap.m.ColumnListItem({id:`${"shipment"+ne()}`,visible:false,cells:[new sap.m.Text({text:`${bt[vt[9]]??" "}`}),new sap.m.Text({text:""}),new sap.m.Text({text:""})]});if(!wt){wt=0}let Nt=yt+Tt+Pt+Vt;y.addItem(z);var X=new sap.m.ColumnListItem({id:`${"totalincludingtaxes"+ne()}`,cells:[new sap.m.Text({text:""}),new sap.m.Text({text:""}),new sap.m.Label({text:`${_t(wt??0)+" "+B}`,design:"Bold"})]});y.addItem(X);var X=new sap.m.ColumnListItem({id:`${"total_excluding_taxes"+ne()}`,cells:[new sap.m.Text({text:""}),new sap.m.Text({text:""}),new sap.m.Label({text:`${_t(wt)+" "+B}`,design:"Bold"})]});y.addItem(X);var K=new sap.m.ColumnListItem({id:`${"perdiemrate"+ne()}`,cells:[new sap.m.Text({text:`${bt[vt[10]]??" "}`}),new sap.m.Text({text:""}),new sap.m.Text({text:""})]});y.addItem(K);if(r[nt].Rank=="1"){y.getColumns()[0].setStyleClass("columnStyleClass");y.getColumns()[1].setStyleClass("columnStyleClass");y.getColumns()[2].setStyleClass("columnStyleClass");y.getItems()[y.getItems().length-5].addStyleClass("customColumnList")}y.getItems()[y.getItems().length-5].addStyleClass("taxCell");let Lt=y.getItems()[y.getItems().length-5].getContent()[0].addStyleClass("taxTextClass");var Z=I.getItems()[0];var ee=new sap.ui.core.Item(`${"item1"+ne()}`,{text:`${mt[pt].eventNo??" "}`});Z.addItem(ee);Z.setValue(`${mt[pt].eventNo??""}`);_.addItem(new sap.m.VBox(`${"offer"+ne()}`,{width:"100%"}));var te=_.getItems()[ot];ot++;te.addStyleClass("spacebetweenclass");te.addItem(new sap.m.ScrollContainer(`${"deliveryperiodScroll"+ne()}`,{vertical:true,height:"100px"}).addStyleClass("hboxScrollScope"));te.getItems()[0].addContent(new sap.m.Text(`${"Scopedeliveryperiod"+ne()}`,{text:`${ft[0]?.Scope_and_Responsibilities??" "}`}));te.addItem(new sap.m.ScrollContainer(`${"CommercialpaymenttermsScroll"+ne()}`,{vertical:true,height:"100px"}).addStyleClass("hboxScrollScope"));te.getItems()[1].addContent(new sap.m.Text(`${"Compliancepaymentterms"+ne()}`,{text:`${ft[0]?.Commercial_Terms??" "}`}));te.addItem(new sap.m.ScrollContainer(`${"OthersliquidedScroll"+ne()}`,{vertical:true,height:"100px"}).addStyleClass("hboxScrollScope"));te.getItems()[2].addContent(new sap.m.Text(`${"Othersliquided"+ne()}`,{text:`${ft[0]?.Compliance_Terms??" "}`}));te.addItem(new sap.m.ScrollContainer(`${"warrantyScroll"+ne()}`,{vertical:true,height:"100px"}).addStyleClass("hboxScrollScope"));te.getItems()[3].addContent(new sap.m.Text(`${"warranty"+ne()}`,{text:`${ft[0]?.Others??" "}`}));const At=ft[0]?.Vendor_Contact_PersonDASH1??"";if(At){var ae=/name\s*:(.*?)\s*email/;var se=At?.match(ae)}var le=se?se[1].trim():null;te.addItem(new sap.m.Text(`${"contactperson"+ne()}`,{text:`${ft[0]?.Vendor_Contact_PersonDASH1??" "}`}));const Bt=/ph1\s*:\s*(.*?)\s*ph2/;const Ot=At?.match(Bt);let Dt=Ot?Ot[1].trim():null;const Ft=/ph2\s*:\s*(.*?)$/;const jt=At?.match(Ft);let Et=jt?jt[1].trim():null;if(Dt==null){Dt=" "}if(Et==null){Et=" "}te.addItem(new sap.m.Text(`${"contactno"+ne()}`,{text:`${Dt+" "+Et??" "}`}));te.addItem(new sap.m.Text(`${"ordercanbe"+ne()}`,{text:`${bt["Order can be give to"]??" "}`}));te.addItem(new sap.m.Text(`${"technicallyapproved"+ne()}`,{text:`${r[nt].Technically_Approved??" "}`}));te.addItem(new sap.m.Text(`${"approvedvendor"+ne()}`,{text:`${r[nt].Awarded_Vendor??" "}`}));let Ht=te.getItems()[te.getItems().length-1];Ht.addStyleClass("customlaststyleclassrsection")}}}nt++}while(nt<r.length);for(let ca=0;ca<f.getItems().length-1;ca++){f.getItems()[ca].setVisible(false);f.getParent().getItems()[2].getItems()[1].getItems()[ca].setVisible(false)}let rt=f?.getItems()[f?.getItems().length-1];if(rt){rt.getItems()[1].getItems()[1].getColumns()[2].getHeader().addItem(new sap.ui.core.Icon(`${"total_amount_icon"+ne()}`,{src:"sap-icon://expand",color:"darkblue",hoverColor:"red",activeColor:"darkgreen",size:"12px",width:"20px",press:function(e){var a=e.getSource().getParent().getParent().getParent().getParent().getParent().getParent().getItems();if(a.length==1){t.show("No More Status")}else{for(let t=0;t<a.length-1;t++){if(a[t].getVisible()==true){a[t].setVisible(false);e.getSource().setSrc("sap-icon://expand")}else{a[t].setVisible(true);e.getSource().setSrc("sap-icon://collapse")}}}}}))}console.log($e);if($e){debugger;fe.addItem(new sap.m.ColumnListItem({cells:[new sap.m.Text({text:`${r[Ze]?.Vendor_Name??" "}`,tooltip:`${r[Ze]?.Vendor_Name??" "}`,wrapping:false}),new sap.m.Text({text:`${$??" "}`,tooltip:`${r[Ze]?.Order_amount_OR_Split_order_amount??" "}`,wrapping:false,textAlign:"Center"})]}));$=0}$e=0}sap.ui.core.BusyIndicator.hide();let be=g.getItems()[0].getItems()[2].getItems()[0];let ve=g.getItems()[1].getContent()[0].getItems();for(let xa=0;xa<ve.length;xa++){let ua=ve[xa].getItems()[1].getItems();for(let Ia=0;Ia<ua.length;Ia++){let wa=ua[Ia].getItems()[1].getItems()[1].getItems();for(let Ca=0;Ca<wa.length;Ca++){if(wa[Ca].getMetadata()._sClassName!="sap.m.CustomListItem"){let _a=wa[Ca].getCells()[2];if(Object.keys(_a.mAggregations).length!=0){}}}}}let he=g.getItems()[0].getItems()[3].getItems();for(let fa=2;fa<=8;fa++){he[fa].setVisible(false)}for(let $a=13;$a<he.length;$a++){he[$a].setVisible(false)}if(he[9].getItems()[1].getSrc()=="sap-icon://navigation-up-arrow"){he[9].getItems()[1].setSrc("sap-icon://navigation-right-arrow")}if(he[12].getItems()[1].getSrc()=="sap-icon://navigation-down-arrow"){he[12].getItems()[1].setSrc("sap-icon://navigation-right-arrow")}let Se=sap.ui.getCore().byId("cbedcompdbdyn::Project_DetailsObjectPage--fe::HeaderFacetCustomContainer::HeaderFragment--rowexpand");let ye=g.getItems()[1].getContent()[0].getItems();for(let ba=0;ba<ye.length;ba++){ye[ba].getItems()[2].setVisible(false)}}catch(va){t.show(va)}}}}})});